{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SASA,SAASC,EAAUC,GACbA,GACFC,SAASC,cAAc,uBAAuBC,gBAAgB,W,CAGlE,SAASC,EAAcC,G,IAAEC,EAAFD,EAAEE,SAAUC,EAAZH,EAAYI,MAAOC,EAAnBL,EAAmBL,OACxC,OAAO,IAAIW,SAAQ,SAACC,EAASC,GAC3BC,YACE,SAAAC,G,IAAGR,EAAQQ,EAARR,SAAUE,EAAKM,EAALN,MAAOT,EAAMe,EAANf,OACIgB,KAAKC,SAAW,IAGpCL,EAAQ,CAAEL,WAAUE,QAAOT,WAG7Ba,EAAO,CAAEN,WAAUE,QAAOT,U,GAE5BQ,EACA,CAAED,SAAAD,EAAUG,MAAAD,EAAOR,OAAAU,G,IAyBzB,SAASQ,EAASH,G,IAAER,EAAFQ,EAAER,SAAUE,EAAZM,EAAYN,MAAOT,EAAnBe,EAAmBf,OACnCmB,EAAAtB,GAASuB,OAAOC,QAAQ,qBAAoCC,OAAff,EAAS,QAAYe,OAANb,EAAM,OAClEV,EAAUC,E,CAGZ,SAASuB,EAAQR,G,IAAER,EAAFQ,EAAER,SAAUE,EAAZM,EAAYN,MAAOT,EAAnBe,EAAmBf,OAClCmB,EAAAtB,GAASuB,OAAOI,QAAQ,oBAAmCF,OAAff,EAAS,QAAYe,OAANb,EAAM,OACjEV,EAAUC,E,CAxDZmB,EAAAtB,GAASuB,OAAOK,KAAK,CAAElB,SAAU,iBA2DjCN,SAASC,cAAc,SAASwB,iBAAiB,UA9BjD,SAAoBC,GAClBA,EAAMC,iBA3BN3B,SAASC,cAAc,uBAAuB2B,aAAa,YAAY,GAmCvE,IAJA,IAAMC,GAAUH,EAAMI,cAAcC,OAAOC,MACrCC,GAAQP,EAAMI,cAAcG,KAAKD,MACjCxB,GAASkB,EAAMI,cAActB,MAAMwB,MAEhCE,EAAI,EAAGA,EAAIL,EAAQK,IAC1B/B,EAAc,CACZG,SAAU4B,EAAI,EACd1B,MAAOA,EAAQ0B,EAAID,EACnBlC,OAAQmC,EAAI,IAAML,IAEjBM,KAAKlB,GACLmB,MAAMd,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.5.min.css';\n\nNotiflix.Notify.init({ position: 'right-bottom' });\n\nfunction setDisabled() {\n  document.querySelector('button[type=submit]').setAttribute('disabled', true);\n}\n\nfunction setEnable(enable) {\n  if (enable)\n    document.querySelector('button[type=submit]').removeAttribute('disabled');\n}\n\nfunction createPromise({ position, delay, enable }) {\n  return new Promise((resolve, reject) => {\n    setTimeout(\n      ({ position, delay, enable }) => {\n        const shouldResolve = Math.random() > 0.3;\n\n        if (shouldResolve) {\n          resolve({ position, delay, enable });\n        }\n\n        reject({ position, delay, enable });\n      },\n      delay,\n      { position, delay, enable }\n    );\n  });\n}\n\nfunction formSubmit(event) {\n  event.preventDefault();\n\n  setDisabled();\n\n  const length = +event.currentTarget.amount.value;\n  const step = +event.currentTarget.step.value;\n  const delay = +event.currentTarget.delay.value;\n\n  for (let i = 0; i < length; i++) {\n    createPromise({\n      position: i + 1,\n      delay: delay + i * step,\n      enable: i + 1 === length,\n    })\n      .then(onSucces)\n      .catch(onError);\n  }\n}\n\nfunction onSucces({ position, delay, enable }) {\n  Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n  setEnable(enable);\n}\n\nfunction onError({ position, delay, enable }) {\n  Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n  setEnable(enable);\n}\n\ndocument.querySelector('.form').addEventListener('submit', formSubmit);\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$setEnable","enable","document","querySelector","removeAttribute","$ce04d3a99e08e73b$var$createPromise","param1","position1","position","delay1","delay","enable1","Promise","resolve","reject","setTimeout","param","Math","random","$ce04d3a99e08e73b$var$onSucces","$parcel$interopDefault","Notify","success","concat","$ce04d3a99e08e73b$var$onError","failure","init","addEventListener","event","preventDefault","setAttribute","length","currentTarget","amount","value","step","i","then","catch"],"version":3,"file":"03-promises.c80a4418.js.map"}